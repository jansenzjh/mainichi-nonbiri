# Content Fetcher and HTML Generator

This project consists of a Python script that fetches content from a list of URLs, extracts specific parts of the HTML, and generates a set of static HTML pages. The generated pages are styled, mobile-friendly, and include navigation and other features.

## Live Demo

You can access the generated pages on GitHub Pages: [https://jansenzjh.github.io/mainichi-nonbiri/output/](https://jansenzjh.github.io/mainichi-nonbiri/output/)

## Features

- **Static Site Generation**: Creates HTML pages from a list of URLs in `links.txt`.
- **Content Extraction**: Extracts the title and main content from each page.
- **Navigation**: Each page includes "Previous", "Next", and "Index" links.
- **Audio Handling**: Converts audio links into embedded HTML5 audio players.
- **Learning Marker**: Allows users to bookmark a page as a "learning marker" using browser local storage.
- **Custom Styling**: Pages are styled with a custom, mobile-friendly CSS theme.

## Requirements

- Python 3
- `pip` for package installation
- `virtualenv` (recommended)

## Setup and Usage

1. **Clone the repository:**
   ```bash
   git clone <repository-url>
   ```

2. **Set up a virtual environment (recommended):**
   ```bash
   python3 -m venv .venv
   source .venv/bin/activate
   ```

3. **Install dependencies:**
   ```bash
   pip install -r requirements.txt
   ```

4. **Populate `links.txt`:**
   Add the URLs you want to process to the `links.txt` file, one URL per line.

5. **Run the script:**
   ```bash
   python3 process_links.py
   ```
   The generated files will be placed in the `output` directory.

## Generating `links.txt`

The `links.txt` file was generated by running the following JavaScript snippet in the browser's developer console on the source website. This script gathers all unique links containing "https://mainichi-nonbiri.com/grammar/n", sorts them, and prints them to the console.

```javascript
const outputString = [...new Set(Array.from(document.querySelectorAll('a')).map(link => link.href))]
  .filter(href => href.includes("https://mainichi-nonbiri.com/grammar/n"))
  .sort((a, b) => b.localeCompare(a))
  .join('\n'); // Join the array elements with a newline character

console.log(outputString);
```

## Customization

### Styling

The visual theme of the generated pages can be modified by editing the `output/style.css` file.

### Analytics

The generated HTML pages include a script for Umami analytics. If you do not wish to use this, you can remove the following line from the `process_links.py` script:

```python
<script defer src="https://umi.crazyhungry.party/script.js" data-website-id="515ea1ca-45c6-499c-b353-7f38a29336b1"></script>
```
